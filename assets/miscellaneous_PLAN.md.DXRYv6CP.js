import{_ as i,o as a,c as e,ag as t}from"./chunks/framework.BSbZkL3e.js";const k=JSON.parse('{"title":"ValueFlows on AT Protocol: Master Implementation Plan","description":"","frontmatter":{},"headers":[],"relativePath":"miscellaneous/PLAN.md","filePath":"miscellaneous/PLAN.md"}'),n={name:"miscellaneous/PLAN.md"};function l(o,s,r,p,h,d){return a(),e("div",null,[...s[0]||(s[0]=[t(`<h1 id="valueflows-on-at-protocol-master-implementation-plan" tabindex="-1">ValueFlows on AT Protocol: Master Implementation Plan <a class="header-anchor" href="#valueflows-on-at-protocol-master-implementation-plan" aria-label="Permalink to &quot;ValueFlows on AT Protocol: Master Implementation Plan&quot;">​</a></h1><h2 id="executive-summary" tabindex="-1">Executive Summary <a class="header-anchor" href="#executive-summary" aria-label="Permalink to &quot;Executive Summary&quot;">​</a></h2><p><strong>Objective:</strong> Build a scalable, interoperable economic network (&quot;Economic Media&quot;) on the AT Protocol using ValueFlows.</p><p><strong>Architecture:</strong></p><ul><li><strong>Core:</strong> AT Protocol (PDS for storage, DIDs for identity)</li><li><strong>Indexing:</strong> Quickslice (Auto-generated GraphQL from Lexicons)</li><li><strong>Client:</strong> GraphQL-based frontend (React/Svelte)</li><li><strong>Scaling:</strong> Federated AppViews (Specialized Quickslice instances)</li></ul><p><strong>Timeline:</strong> 4-Phase rollout (Pilot → Alpha → Beta → Global Scale)</p><h2 id="_1-core-architecture" tabindex="-1">1. Core Architecture <a class="header-anchor" href="#_1-core-architecture" aria-label="Permalink to &quot;1. Core Architecture&quot;">​</a></h2><h3 id="the-federated-index-model" tabindex="-1">The &quot;Federated Index&quot; Model <a class="header-anchor" href="#the-federated-index-model" aria-label="Permalink to &quot;The &quot;Federated Index&quot; Model&quot;">​</a></h3><p>Instead of a single monolithic database, we build a <strong>fleet of specialized indexes</strong>.</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>┌─────────────────────────────────────────────────────────────┐</span></span>
<span class="line"><span>│                    Global User Base                         │</span></span>
<span class="line"><span>│              (Universal Identity via DIDs)                  │</span></span>
<span class="line"><span>└─────────────────────────────────────────────────────────────┘</span></span>
<span class="line"><span>          │                       │                       │</span></span>
<span class="line"><span>          ▼                       ▼                       ▼</span></span>
<span class="line"><span>┌───────────────────┐   ┌───────────────────┐   ┌───────────────────┐</span></span>
<span class="line"><span>│ Global AppView    │   │ Agriculture View  │   │  Tech View        │</span></span>
<span class="line"><span>│ (Quickslice)      │   │ (Quickslice)      │   │  (Quickslice)     │</span></span>
<span class="line"><span>│                   │   │                   │   │                   │</span></span>
<span class="line"><span>│ • All Events      │   │ • Food/Farming    │   │ • Hardware/Chips  │</span></span>
<span class="line"><span>│ • Basic Index     │   │ • Deep Indexing   │   │ • Deep Indexing   │</span></span>
<span class="line"><span>└───────────────────┘   └───────────────────┘   └───────────────────┘</span></span></code></pre></div><p><strong>Key Principals:</strong></p><ol><li><strong>Universal Data:</strong> All data lives in user PDSs (interoperable).</li><li><strong>Specialized Views:</strong> AppViews index only what they need.</li><li><strong>GraphQL Interface:</strong> Clients query the AppView relevant to their context.</li></ol><h2 id="_2-infrastructure-strategy" tabindex="-1">2. Infrastructure Strategy <a class="header-anchor" href="#_2-infrastructure-strategy" aria-label="Permalink to &quot;2. Infrastructure Strategy&quot;">​</a></h2><p><strong>Deployment Target:</strong> Kubernetes (K8s) <strong>Scaling Pattern:</strong> Horizontal Sharding by Region/Domain</p><h3 id="global-deployment-pilot-alpha" tabindex="-1">Global Deployment (Pilot/Alpha) <a class="header-anchor" href="#global-deployment-pilot-alpha" aria-label="Permalink to &quot;Global Deployment (Pilot/Alpha)&quot;">​</a></h3><p>A single Quickslice cluster handling all traffic.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Simple Quickslice Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">quickslice-global</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # High availability</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">quickslice</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">COLLECTIONS</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vf.observation.*,vf.plan.*&quot;</span></span></code></pre></div><h3 id="regional-sharding-beta-global" tabindex="-1">Regional Sharding (Beta/Global) <a class="header-anchor" href="#regional-sharding-beta-global" aria-label="Permalink to &quot;Regional Sharding (Beta/Global)&quot;">​</a></h3><p>As traffic grows, split ingestion by region to reduce latency and comply with data sovereignty.</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Regional Deployment (EU)</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">apiVersion</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">apps/v1</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">kind</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Deployment</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">metadata</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">quickslice-eu</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  replicas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    spec</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      containers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">quickslice</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">          env</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">JETSTREAM_REGION</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">              value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eu-west&quot;</span></span></code></pre></div><h2 id="_3-lexicon-strategy" tabindex="-1">3. Lexicon Strategy <a class="header-anchor" href="#_3-lexicon-strategy" aria-label="Permalink to &quot;3. Lexicon Strategy&quot;">​</a></h2><p><strong>Design Philosophy:</strong> Follow hREA&#39;s proven patterns.</p><table tabindex="0"><thead><tr><th>Lexicon ID</th><th>Role</th><th>hREA Equivalent</th></tr></thead><tbody><tr><td><code>vf.agent.person</code></td><td>Economic Actor</td><td><code>ReaAgent</code></td></tr><tr><td><code>vf.agent.organization</code></td><td>Economic Group</td><td><code>ReaAgent</code></td></tr><tr><td><code>vf.observation.economicEvent</code></td><td>Transaction</td><td><code>ReaEconomicEvent</code></td></tr><tr><td><code>vf.observation.economicResource</code></td><td>Asset</td><td><code>ReaEconomicResource</code></td></tr><tr><td><code>vf.plan.process</code></td><td>Transformation</td><td><code>ReaProcess</code></td></tr><tr><td><code>vf.plan.commitment</code></td><td>Promise</td><td><code>ReaCommitment</code></td></tr></tbody></table><p><strong>Reference Pattern:</strong></p><ul><li><strong>Agents:</strong> Referenced by DID (e.g., <code>did:plc:123</code>)</li><li><strong>Records:</strong> Referenced by AT URI (e.g., <code>at://did:plc:123/vf.event/sc45...</code>)</li><li><strong>Joins:</strong> Auto-resolved by Quickslice</li></ul><h2 id="_4-implementation-roadmap" tabindex="-1">4. Implementation Roadmap <a class="header-anchor" href="#_4-implementation-roadmap" aria-label="Permalink to &quot;4. Implementation Roadmap&quot;">​</a></h2><h3 id="phase-1-the-foundation-weeks-1-2" tabindex="-1">Phase 1: The Foundation (Weeks 1-2) <a class="header-anchor" href="#phase-1-the-foundation-weeks-1-2" aria-label="Permalink to &quot;Phase 1: The Foundation (Weeks 1-2)&quot;">​</a></h3><p><strong>Goal:</strong> Functional &quot;Hello World&quot; of economic events.</p><ol><li><p><strong>Deploy Quickslice:</strong></p><ul><li>Set up K8s cluster</li><li>Deploy single Quickslice instance</li><li>Configure OAuth signing keys</li></ul></li><li><p><strong>Define Core Lexicons:</strong></p><ul><li><code>vf.agent.person</code></li><li><code>vf.observation.economicEvent</code></li><li>Import into Quickslice (<code>quickslice lexicon import ...</code>)</li></ul></li><li><p><strong>Verify Pipeline:</strong></p><ul><li>Create event via mutation</li><li>Query event via GraphQL</li><li>Verify DID join works</li></ul></li></ol><h3 id="phase-2-the-process-weeks-3-4" tabindex="-1">Phase 2: The Process (Weeks 3-4) <a class="header-anchor" href="#phase-2-the-process-weeks-3-4" aria-label="Permalink to &quot;Phase 2: The Process (Weeks 3-4)&quot;">​</a></h3><p><strong>Goal:</strong> Enable complex economic flows.</p><ol><li><p><strong>Process Lexicons:</strong></p><ul><li><code>vf.plan.process</code></li><li><code>vf.plan.intent</code></li><li><code>vf.plan.commitment</code></li></ul></li><li><p><strong>Graph Queries:</strong></p><ul><li>Test &quot;Input → Process → Output&quot; queries</li><li>Verify reverse joins (Process inputs)</li></ul></li><li><p><strong>Frontend Scaffold:</strong></p><ul><li>Connect scaffolding React app to Quickslice</li><li>Implement login flow</li></ul></li></ol><h3 id="phase-3-the-federation-weeks-5-6" tabindex="-1">Phase 3: The Federation (Weeks 5-6) <a class="header-anchor" href="#phase-3-the-federation-weeks-5-6" aria-label="Permalink to &quot;Phase 3: The Federation (Weeks 5-6)&quot;">​</a></h3><p><strong>Goal:</strong> Demonstrate horizontal scaling.</p><ol><li><p><strong>Specialized AppView:</strong></p><ul><li>Deploy 2nd Quickslice instance (&quot;Supply Chain View&quot;)</li><li>Configure to index <em>only</em> supply chain collections</li><li>Demonstrate separate scaling of ingestion</li></ul></li><li><p><strong>Production Hardening:</strong></p><ul><li>Redis caching</li><li>Database read replicas</li><li>CDN for media</li></ul></li></ol><h3 id="phase-4-global-scale-future" tabindex="-1">Phase 4: Global Scale (Future) <a class="header-anchor" href="#phase-4-global-scale-future" aria-label="Permalink to &quot;Phase 4: Global Scale (Future)&quot;">​</a></h3><p><strong>Goal:</strong> Full &quot;Economic Media&quot; network.</p><ol><li><strong>Regional Sharding:</strong><ul><li>Deploy EU/US/APAC clusters</li><li>Geo-DNS routing</li></ul></li><li><strong>Cold Storage:</strong><ul><li>Archive old events to S3/Glacier</li><li>Lightweight &quot;Cold View&quot; for audits</li></ul></li></ol><h2 id="_5-success-metrics" tabindex="-1">5. Success Metrics <a class="header-anchor" href="#_5-success-metrics" aria-label="Permalink to &quot;5. Success Metrics&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Metric</th><th>Target (Alpha)</th><th>Target (Global)</th></tr></thead><tbody><tr><td><strong>Query Latency</strong></td><td>&lt; 200ms</td><td>&lt; 100ms (p95)</td></tr><tr><td><strong>Ingestion Lag</strong></td><td>&lt; 2s</td><td>&lt; 500ms</td></tr><tr><td><strong>Storage Cost</strong></td><td>$50/mo</td><td>$0.001 per event</td></tr><tr><td><strong>Uptime</strong></td><td>99.9%</td><td>99.99%</td></tr></tbody></table><h2 id="_6-risks-mitigations" tabindex="-1">6. Risks &amp; Mitigations <a class="header-anchor" href="#_6-risks-mitigations" aria-label="Permalink to &quot;6. Risks &amp; Mitigations&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Risk</th><th>Mitigation</th></tr></thead><tbody><tr><td><strong>Firehose Volume</strong></td><td>Jetstream filtering + Sharding</td></tr><tr><td><strong>Schema Changes</strong></td><td>Strict Lexicon versioning</td></tr><tr><td><strong>Data Privacy</strong></td><td>PDS-level access controls</td></tr><tr><td><strong>Vendor Lock-in</strong></td><td>Open source stack (Quickslice/Postgres)</td></tr></tbody></table>`,42)])])}const g=i(n,[["render",l]]);export{k as __pageData,g as default};
